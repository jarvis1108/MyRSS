<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Group | My RSS</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <link rel="alternate icon" type="image/png" href="assets/i/favicon.png">
  <link rel="stylesheet" href="assets/css/amazeui.min.css" />
  <link rel="stylesheet" href="assets/css/group.css" />
	<script src = "https://code.jquery.com/jquery-3.3.1.js "></script>
	<script src = "assets/js/group.js"></script>
	
	<script>
		licolection = document.getElementById("nav").childNodes;
		for (i = 0; i < licolection.length / 2; ++i) {
			element = licolection[i*2 + 1].childNodes[0];
			element.setAttribute('href', element.getAttribute('href') + "?" + document.URL.split("?")[1])
		}
	</script>
</head>
<body>
<!-- header -->
  <header class="am-topbar">
    <h1 class="am-topbar-brand">
      <a href="#">My RSS</a>
    </h1>

    <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#doc-topbar-collapse'}"><span
        class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button>

    <div class="am-collapse am-topbar-collapse" id="doc-topbar-collapse">
      <ul id="nav" class="am-nav am-nav-pills am-topbar-nav">
        <li><a href="#">首页</a></li>
        <li><a href="Collection.html">收藏</a></li>
        <li class="am-active"><a href="group.html">小组</a></li>
				<li><a href="Personal_information.html">个人信息</a></li>
      </ul>
      
      <div class="am-topbar-right">
        <button class="am-btn am-btn-primary am-topbar-btn am-btn-sm">登录</button>
      </div>
     </div>
  </header>


<div class="am-g am-g-fixed blog-g-fixed">
	  <div class="am-u-md-4 blog-sidebar">
    <div class="am-panel-group">
    	
    	<!--
        	作者：649967961@qq.com
        	时间：2018-12-24
        	描述：后台数据 某小组成员
        -->
      <section class="am-panel am-panel-default">
        <div class="am-panel-hd">小组成员</div>
        <ul class="am-list blog-list">
          <li class="groupMember"><a href="#">小王</a></li>
        </ul>
      </section>
      <br />
      
      
      <!--
      	作者：649967961@qq.com
      	时间：2018-12-24
      	描述：后台数据 我的小组
      -->
 			<section class="am-panel am-panel-default">
        <div class="am-panel-hd">我的小组</div>
        <ul class="am-list blog-list">
          <li><a href="#">搞事情小组</a></li>
          <li><a href="#">不搞事情小组</a></li>
          <li><a href="#">凉了</a></li>
          <li><a href="#">哈哈哈</a></li>
        </ul>
      </section>
      <br />
      <div>
      	<button type="button" class="am-btn am-btn-primary" id="new-group-btn">新建小组</button>
      </div>
      
      <div class="am-modal am-modal-confirm" tabindex="-1" id="new-group">
          <div class="am-modal-dialog">
            <div class="am-modal-hd">新建小组</div>
            <div class="am-modal-bd">
              <label class="edit-label">组名</label>
              <input type="text" class="am-modal-prompt-input" id="edit-groupName">
            </div>
            <div class="am-modal-footer">
              <span class="am-modal-btn" data-am-modal-cancel>取消</span>
              <span class="am-modal-btn" data-am-modal-confirm>确定</span>
            </div>
          </div>      	
      </div>
    </div>
  </div>
	
	
  <div class="am-u-md-8">
  	
  	  <section class="am-panel am-panel-primary">
        <header class="am-panel-hd">
          <h3 class="am-panel-title" id="group-name">搞事情小组
            <a class="am-icon-remove content-icon" id="group-delete-toggle"></a>
            <a class="am-icon-edit content-icon" id="group-edit-toggle"></a>
          </h3>
        </header>
        <div class="am-panel-bd">创建于 <a id="group-creatTime">2018/09/10</a>
        </div>

        <!-- group delete confirm -->
        <div class="am-modal am-modal-confirm" tabindex="-1" id="group-delete-confirm">
          <div class="am-modal-dialog">
            <div class="am-modal-hd">删除小组</div>
            <div class="am-modal-bd">你确定要删除这个小组吗？</div>
            <div class="am-modal-footer">
              <span class="am-modal-btn" data-am-modal-cancel>取消</span>
              <span class="am-modal-btn" data-am-modal-confirm>确定</span>
            </div>
          </div>
        </div>

        <!-- edit confirm -->
        <div class="am-modal am-modal-confirm" tabindex="-1" id="edit-confirm">
          <div class="am-modal-dialog">
            <div class="am-modal-hd">编辑小组</div>
            <div class="am-modal-bd">
              <label class="edit-label">组名</label>
              <input type="text" class="am-modal-prompt-input" id="edit-title">
            </div>
            <div class="am-modal-footer">
              <span class="am-modal-btn" data-am-modal-cancel>取消</span>
              <span class="am-modal-btn" data-am-modal-confirm>确定</span>
            </div>
          </div>
        </div>
      </section>
  	
  	<section id="articles">
	    <article class="blog-main">
	      <h3 class="am-article-title blog-title">
	        <a href="#">Google fonts</a>
	      </h3>
	      <h4 class="am-article-meta blog-meta">来自<a href="">小王</a>的收藏 <a href="#"></a></h4>
	
	      <div class="am-g blog-content">
	        <div class="am-u-lg-12">
	          <p><!-- 本demo来自 http://blog.justfont.com/ -->你自信滿滿的跟客戶進行第一次 demo。秀出你精心設計的內容時，你原本期許客戶冷不防地掉下感動的眼淚。</p>
	          <p>因為那實在是太高級了。</p>
	        </div>
	      </div>
	    </article>
	    <hr class="am-article-divider blog-hr">
	
	    <article class="blog-main">
	      <h3 class="am-article-title">
	        <a href="#">身邊的字體: Arial (上)</a>
	      </h3>
	      <h4 class="am-article-meta blog-meta">来自<a href="">小李</a>的收藏<a href="#"></a></h4>
	
	      <div class="am-g blog-content">
	        <div class="am-u-lg-12">
	          <p><!--本demo文字来自 http://blog.justfont.com/--> 这次要介绍的是大家似乎都狠熟悉却又狠陌生的字体：Arial。不只是对 Typography
	            特别有兴趣的人、碰过排版的人，就算毫无接触，只要打开过电脑的字型选单，应该都有看过这个字型吧。尤其它还是以 A 开头，总是会出现在选单最前面。</p>
	
	          <p>Arial 常常跟 Helvetica 搞混，也常被当作是没有 Helvetica 时的替代字体使用。事实上 Arial 确实就是故意做得跟 Helvetica 狠相似，连每个字母的宽度都刻意做得一模一样。</p>
	        </div>
	      </div>
	    </article>
		</section>

    <hr class="am-article-divider blog-hr">
    <ul class="am-pagination blog-pagination">
      <li class="am-pagination-prev"><a href="">&laquo; 上一页</a></li>
      <li class="am-pagination-next"><a href="">下一页 &raquo;</a></li>
    </ul>
  </div>
</div>

<footer class="blog-footer">
    <p>Group | My RSS<br />
      <small>© Copyright 2018</small>
    </p>
</footer>
  <script src = "assets/js/jquery.min.js"></script>
  <script src = "assets/js/amazeui.min.js"></script> 

  <script>
  	
    //事件监听
    $(GroupDeleteConfirm());
    $(GroupEditConfirm());
    $(NewGroup());
  	//DONE: collection-delete-confirm
    function GroupDeleteConfirm() {
      $('#group-delete-toggle').on('click', function () {
        $('#group-delete-confirm').modal({
          relatedTarget: this,
          onConfirm: function () {
            var currentCollectionId = document.getElementById("current-collection").innerText;
              alert('删除该组');
              Delete();
          
          }
        });
      });
   }
   
    function GroupEditConfirm() {
      var title;
      //initial
      $('#edit-confirm').on('open.modal.amui', function () {
        title = document.getElementById("edit-title").value;
      });

      $('#group-edit-toggle').on('click', function () {
        $('#edit-confirm').modal({
          relatedTarget: this,
          onConfirm: function () {
            //校验是否发生更改
            var curTitle = document.getElementById("edit-title").value;
            if (curTitle != title || curStatus) {
              console.log("change");
              Update();
            }
          }
        });
      });
    }
    
    function NewGroup(){
      var groupName;
      //initial
      $('#new-group').on('open.modal.amui', function () {
        groupName = document.getElementById("edit-groupName").value;
      });

      $('#new-group-btn').on('click', function () {
        $('#new-group').modal({
          relatedTarget: this,
          onConfirm: function () {
            //校验是否发生更改
            var curGroupName = document.getElementById("edit-groupName").value;
            if (curTitle != null) {
              console.log("change");
            }
          }
        });
      });   	
    }
	
	
// 删除小组
	function Delete()
	{
		var reqId = "1";
		var reqType = "Delete";
		var groupId = 

		var objParam = 
		{
			"reqId": reqId,
			"reqType": reqType,
			"reqParam":
			{
				"groupId": groupId
			}
		};
				
		$.ajax
		({     
            url: "http://120.79.191.240:8089/rssbackend/api/v1/group/delete",	
            data: JSON.stringify(objParam),     							
            datatype: "json",  
            type: "POST", 
            async : false,
            contentType: "application/json", 
            success:function(objResult) 					
			{	
			
            },
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{     
				alert(XMLHttpRequest.status);
            }     			
        }); 
	}


// 根据id获取小组信息
	function DetailById()
	{
		var reqId = "1";
		var reqType = "DetailById";
		var groupId = 

		var objParam = 
		{
			"reqId": reqId,
			"reqType": reqType,
			"reqParam":
			{
				"groupId": groupId
			}
		};
				
		$.ajax
		({     
            url: "http://120.79.191.240:8089/rssbackend/api/v1/group/detail/id",	
            data: JSON.stringify(objParam),     							
            datatype: "json",  
            type: "POST", 
            async : false,//是否异步请求
            contentType: "application/json", 
            success:function(objResult) 					
			{	
			
            },
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{     
				alert(XMLHttpRequest.status);
            }     			
        }); 
	}
	
	//根据模糊匹配组名获取小组信息（先略
	
	//根据组号获取小组信息
	function DetailByNum()
	{
		var reqId = "1";
		var reqType = "DetailByNum";
		var groupNum =
	
		var objParam = 
		{
			"reqId": reqId,
			"reqType": reqType,
			"reqParam":
			{
				"groupNum": groupNum
			}
		};
				
		$.ajax
		({     
            url: "http://120.79.191.240:8089/rssbackend/api/v1/group/detail/num",	
            data: JSON.stringify(objParam),     							
            datatype: "json",  
            type: "POST",
            async : false,//是否异步请求
            contentType: "application/json", 
            success:function(objResult) 					
			{	
				//显示用户公开收藏夹信息
            },
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{     
				alert(XMLHttpRequest.status);
            }     			
        });
	}

	//获得小组成员信息
	function Member()
	{
		var reqId = "1";
		var reqType = "Member";
		var groupId = 
	
		var objParam = 
		{
			"reqId": reqId,
			"reqType": reqType,
			"reqParam":
			{
				"groupId": groupId
			}
		};
				
		$.ajax
		({     
            url: "http://120.79.191.240:8089/rssbackend/api/v1/group/member",	
            data: JSON.stringify(objParam),     							
            datatype: "json",  
            type: "POST", 
            async : false,//是否异步请求
            contentType: "application/json", 
            success:function(objResult) 					
			{	
				document.getElementsByClassName("groupMember").innerHTML = objResult.resResult.curData.username;
            },
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{     
				alert(XMLHttpRequest.status);
            }     			
        });
	}
	
	//新建小组
	function Save()
	{
		var reqId = "1";
		var reqType = "Save";
		var name = null;
		var description = null;
		var userId = null;
	
		var objParam = 
		{
			"reqId": reqId,
			"reqType": reqType,
			"reqParam":
			{
				"name": name,
				"description":description
			},
			"reqUserInfo":
			{
				"userId": userId
			}
		};
				
		$.ajax
		({     
            url: "http://120.79.191.240:8089/rssbackend/api/v1/group",	
            data: JSON.stringify(objParam),     							
            datatype: "json",  
            type: "POST",
            async : false,//是否异步请求
            contentType: "application/json", 
            success:function(objResult) 					
			{	
				//新建小组
            },
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{     
				alert(XMLHttpRequest.status);
            }     			
        });
	}
	
	//更新小组信息
	function Update()
	{
		var reqId = "1";
		var reqType = "Update";
		var groupId = null;
		var name = null;
		var description =null;
	
		var objParam = 
		{
			"reqId": reqId,
			"reqType": reqType,
			"reqParam":
			{
				"groupId":groupId,
				"name": name,
				"description":description
			}
		};
				
		$.ajax
		({     
            url: "http://120.79.191.240:8089/rssbackend/api/v1/group/update",	
            data: JSON.stringify(objParam),     							
            datatype: "json",  
            type: "POST",
            async : false,//是否异步请求
            contentType: "application/json", 
            success:function(objResult) 					
			{	
				//更新小组信息
            },
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{     
				alert(XMLHttpRequest.status);
            }     			
        });
	}	
	
	function DetailByUser()
	{
		
	}
	
  </script>
  
</body>
</html>
